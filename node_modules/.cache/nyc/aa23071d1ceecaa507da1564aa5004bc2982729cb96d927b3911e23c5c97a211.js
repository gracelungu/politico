var cov_137uqz1kjp=function(){var path="/Volumes/Extension/projects/politico/V1/routes/party.js";var hash="6534e974b3e6e4fc3a0cb33a9b0509b338820d2f";var Function=function(){}.constructor;var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Volumes/Extension/projects/politico/V1/routes/party.js",statementMap:{"0":{start:{line:1,column:16},end:{line:1,column:34}},"1":{start:{line:3,column:15},end:{line:3,column:31}},"2":{start:{line:5,column:15},end:{line:5,column:41}},"3":{start:{line:7,column:16},end:{line:7,column:18}},"4":{start:{line:10,column:0},end:{line:23,column:3}},"5":{start:{line:11,column:2},end:{line:22,column:5}},"6":{start:{line:12,column:4},end:{line:21,column:5}},"7":{start:{line:13,column:6},end:{line:13,column:31}},"8":{start:{line:15,column:6},end:{line:20,column:9}},"9":{start:{line:26,column:0},end:{line:57,column:3}},"10":{start:{line:27,column:21},end:{line:29,column:14}},"11":{start:{line:31,column:2},end:{line:37,column:3}},"12":{start:{line:32,column:4},end:{line:35,column:7}},"13":{start:{line:36,column:4},end:{line:36,column:11}},"14":{start:{line:39,column:2},end:{line:51,column:5}},"15":{start:{line:40,column:4},end:{line:50,column:5}},"16":{start:{line:41,column:6},end:{line:41,column:42}},"17":{start:{line:43,column:6},end:{line:49,column:9}},"18":{start:{line:53,column:2},end:{line:56,column:5}},"19":{start:{line:60,column:0},end:{line:65,column:3}},"20":{start:{line:61,column:2},end:{line:64,column:5}},"21":{start:{line:68,column:0},end:{line:90,column:3}},"22":{start:{line:71,column:2},end:{line:76,column:5}},"23":{start:{line:72,column:4},end:{line:75,column:5}},"24":{start:{line:73,column:6},end:{line:73,column:16}},"25":{start:{line:74,column:6},end:{line:74,column:28}},"26":{start:{line:78,column:2},end:{line:84,column:3}},"27":{start:{line:79,column:4},end:{line:82,column:7}},"28":{start:{line:83,column:4},end:{line:83,column:11}},"29":{start:{line:86,column:2},end:{line:89,column:5}},"30":{start:{line:93,column:0},end:{line:120,column:3}},"31":{start:{line:95,column:22},end:{line:100,column:14}},"32":{start:{line:102,column:2},end:{line:108,column:3}},"33":{start:{line:103,column:4},end:{line:106,column:7}},"34":{start:{line:107,column:4},end:{line:107,column:11}},"35":{start:{line:111,column:2},end:{line:111,column:25}},"36":{start:{line:113,column:2},end:{line:119,column:5}},"37":{start:{line:122,column:0},end:{line:122,column:24}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:10,column:37},end:{line:10,column:38}},loc:{start:{line:10,column:51},end:{line:23,column:1}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:11,column:18},end:{line:11,column:19}},loc:{start:{line:11,column:35},end:{line:22,column:3}},line:11},"2":{name:"(anonymous_2)",decl:{start:{line:26,column:41},end:{line:26,column:42}},loc:{start:{line:26,column:55},end:{line:57,column:1}},line:26},"3":{name:"(anonymous_3)",decl:{start:{line:39,column:18},end:{line:39,column:19}},loc:{start:{line:39,column:32},end:{line:51,column:3}},line:39},"4":{name:"(anonymous_4)",decl:{start:{line:60,column:30},end:{line:60,column:31}},loc:{start:{line:60,column:44},end:{line:65,column:1}},line:60},"5":{name:"(anonymous_5)",decl:{start:{line:68,column:34},end:{line:68,column:35}},loc:{start:{line:68,column:48},end:{line:90,column:1}},line:68},"6":{name:"(anonymous_6)",decl:{start:{line:71,column:18},end:{line:71,column:19}},loc:{start:{line:71,column:25},end:{line:76,column:3}},line:71},"7":{name:"(anonymous_7)",decl:{start:{line:93,column:31},end:{line:93,column:32}},loc:{start:{line:93,column:45},end:{line:120,column:1}},line:93}},branchMap:{"0":{loc:{start:{line:12,column:4},end:{line:21,column:5}},type:"if",locations:[{start:{line:12,column:4},end:{line:21,column:5}},{start:{line:12,column:4},end:{line:21,column:5}}],line:12},"1":{loc:{start:{line:31,column:2},end:{line:37,column:3}},type:"if",locations:[{start:{line:31,column:2},end:{line:37,column:3}},{start:{line:31,column:2},end:{line:37,column:3}}],line:31},"2":{loc:{start:{line:40,column:4},end:{line:50,column:5}},type:"if",locations:[{start:{line:40,column:4},end:{line:50,column:5}},{start:{line:40,column:4},end:{line:50,column:5}}],line:40},"3":{loc:{start:{line:72,column:4},end:{line:75,column:5}},type:"if",locations:[{start:{line:72,column:4},end:{line:75,column:5}},{start:{line:72,column:4},end:{line:75,column:5}}],line:72},"4":{loc:{start:{line:78,column:2},end:{line:84,column:3}},type:"if",locations:[{start:{line:78,column:2},end:{line:84,column:3}},{start:{line:78,column:2},end:{line:84,column:3}}],line:78},"5":{loc:{start:{line:102,column:2},end:{line:108,column:3}},type:"if",locations:[{start:{line:102,column:2},end:{line:108,column:3}},{start:{line:102,column:2},end:{line:108,column:3}}],line:102}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{"0":[0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}coverageData.hash=hash;return coverage[path]=coverageData;}();const express=(cov_137uqz1kjp.s[0]++,require('express'));const router=(cov_137uqz1kjp.s[1]++,express.Router());const schema=(cov_137uqz1kjp.s[2]++,require('../utils/schema'));const Parties=(cov_137uqz1kjp.s[3]++,[]);// Delete a specific party
cov_137uqz1kjp.s[4]++;router.delete('/api/v1/parties/:id',(req,res)=>{cov_137uqz1kjp.f[0]++;cov_137uqz1kjp.s[5]++;Parties.forEach((item,index)=>{cov_137uqz1kjp.f[1]++;cov_137uqz1kjp.s[6]++;if(item.id===req.params.id){cov_137uqz1kjp.b[0][0]++;cov_137uqz1kjp.s[7]++;Parties.splice(index,1);cov_137uqz1kjp.s[8]++;res.status(200).json({status:200,data:[{message:'The party was successfully deleted'}]});}else{cov_137uqz1kjp.b[0][1]++;}});});// Edit a specific party name
cov_137uqz1kjp.s[9]++;router.patch('/api/v1/parties/:id/name',(req,res)=>{cov_137uqz1kjp.f[2]++;const nameSchema=(cov_137uqz1kjp.s[10]++,schema({name:'string'},req.body));cov_137uqz1kjp.s[11]++;if(nameSchema.passed===false){cov_137uqz1kjp.b[1][0]++;cov_137uqz1kjp.s[12]++;res.status(400).json({status:400,error:nameSchema.message});cov_137uqz1kjp.s[13]++;return;}else{cov_137uqz1kjp.b[1][1]++;}cov_137uqz1kjp.s[14]++;Parties.forEach((p,index)=>{cov_137uqz1kjp.f[3]++;cov_137uqz1kjp.s[15]++;if(p.id===req.params.id){cov_137uqz1kjp.b[2][0]++;cov_137uqz1kjp.s[16]++;Parties[index].name=req.body.name;cov_137uqz1kjp.s[17]++;res.status(200).json({status:200,data:[{id:p.id,name:p.name}]});}else{cov_137uqz1kjp.b[2][1]++;}});cov_137uqz1kjp.s[18]++;res.status(404).json({status:404,error:'Party not found'});});// Get all parties
cov_137uqz1kjp.s[19]++;router.get('/api/v1/parties',(req,res)=>{cov_137uqz1kjp.f[4]++;cov_137uqz1kjp.s[20]++;res.status(200).json({status:200,data:Parties});});// Get a specific party
cov_137uqz1kjp.s[21]++;router.get('/api/v1/parties/:id',(req,res)=>{cov_137uqz1kjp.f[5]++;let party;cov_137uqz1kjp.s[22]++;Parties.forEach(p=>{cov_137uqz1kjp.f[6]++;cov_137uqz1kjp.s[23]++;if(p.id===req.params.id){cov_137uqz1kjp.b[3][0]++;cov_137uqz1kjp.s[24]++;party=p;cov_137uqz1kjp.s[25]++;delete party.hqAdress;}else{cov_137uqz1kjp.b[3][1]++;}});cov_137uqz1kjp.s[26]++;if(party===undefined){cov_137uqz1kjp.b[4][0]++;cov_137uqz1kjp.s[27]++;res.status(404).json({status:404,error:'Party not found'});cov_137uqz1kjp.s[28]++;return;}else{cov_137uqz1kjp.b[4][1]++;}cov_137uqz1kjp.s[29]++;res.status(200).json({status:200,data:[party]});});// Create a new party
cov_137uqz1kjp.s[30]++;router.post('/api/v1/parties',(req,res)=>{cov_137uqz1kjp.f[7]++;// Validate the request
const partySchema=(cov_137uqz1kjp.s[31]++,schema({id:'integer',name:'string',hqAdress:'string',logoUrl:'string'},req.body));cov_137uqz1kjp.s[32]++;if(partySchema.passed===false){cov_137uqz1kjp.b[5][0]++;cov_137uqz1kjp.s[33]++;res.status(400).json({status:400,error:partySchema.message});cov_137uqz1kjp.s[34]++;return;}else{cov_137uqz1kjp.b[5][1]++;}// Add new party
cov_137uqz1kjp.s[35]++;Parties.push(req.body);cov_137uqz1kjp.s[36]++;res.status(200).json({status:200,data:[{id:req.body.id,name:req.body.name}]});});cov_137uqz1kjp.s[37]++;module.exports=router;